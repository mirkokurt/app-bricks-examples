<!--
SPDX-FileCopyrightText: Copyright (C) ARDUINO SRL (http://www.arduino.cc)

SPDX-License-Identifier: MPL-2.0
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concrete crack detector</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="icon" type="image/png" href="img/favicon.png">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="arduino-text">Concrete crack detector</h1>
            <img class="arduino-logo" src="img/RGB-Arduino-Logo_Color Inline Loop.svg" alt="Arduino Logo">
        </div>

        <div class="main-content">
            <div class="upload-section">
                <div class="controls-section-left">
                    <div class="section-header">
                        <div id="imageSelectionHeader">
                            <div class="result">Image selection</div>
                            <p class="description">Select an image from the samples below or upload a new one</p>
                        </div>
                        <div id="resultHeader" style="display: none;">
                            <div class="result">Result</div>
                            <p class="description">Red squares indicate detected cracks. The darker the shade of red, the higher the model's confidence.</p>
                        </div>
                        <button id="downloadButton" class="btn-secondary" style="display: none;">
                            <img src="img/download-icon.svg" alt="Download" class="download-icon">
                        </button>
                    </div>

                    <div class="image-source-selection">
                        <button id="sampleImageBtn" class="source-btn active">
                            <img src="img/sample.svg" alt="Sample" class="sample-icon">
                            Image from sample
                        </button>
                        <button id="uploadImageBtn" class="source-btn">
                            <img src="img/upload-icon.svg" alt="Upload" class="upload-icon">
                            Upload Image
                        </button>
                    </div>

                    <div class="image-container">
                        <div id="sampleImagesGrid" class="sample-images-grid"></div>

                        <div id="imagePreview" class="image-preview" style="display: none;">
                            <div class="upload-placeholder">
                                <p class="drag-and-drop">Drag & drop an image here, or</p>
                                <button class="drag-and-drop-button">
                                    <img src="img/upload.svg" alt="Upload" class="upload-icon">
                                    Upload
                                </button>
                                <div>
                                <span class="drag-and-drop-text border">File Jpg or PnG</span><span class="drag-and-drop-text">Max 500kb</span>
                                </div>
                                <input type="file" id="imageInput" accept="image/*" style="display: none;">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="controls-section-right">
                    <div class="controls-section">
                        <div class="control-group">
                            <div class="control-confidence">
                                <div style="display: flex; align-items: center; gap: 8px; position: relative;">
                                    <label id="confidence-label" for="confidenceSlider">Confidence</label>
                                    <img src="./img/info.svg" alt="Info" class="info-btn confidence"/>
                                    <div class="popover"></div>
                                </div>
                                <button id="confidenceResetButton" class="btn-tertiary">
                                    <input type="number" id="confidenceInput" class="confidence-input" min="0" max="1" step="0.05" value="0.50">
                                    <img src="img/icon-reset.svg" alt="Reset" class="reset-icon">
                                </button>
                            </div>
                            <div class="slider-box">
                                <span class="confidence-limits">0</span>
                                <div class="slider-container">
                                    <div class="slider-progress" id="sliderProgress"></div>
                                    <div class="confidence-value-display" id="confidenceValueDisplay">0.5</div>
                                    <input type="range" id="confidenceSlider" min="0" max="1" step="0.05" value="0.5">
                                </div>
                                <span class="confidence-limits">1</span>
                            </div>
                        </div>
                        <div id="statusMessage" class="status-message"></div>
                        <div id="error-container" class="error-message" style="display: none;"></div>
                    </div>
                    <div class="buttons">
                        <button id="uploadNewButton" class="btn-secondary" style="display: none;">
                            <img src="img/change.svg" alt="Change" class="change-icon">
                            Change Image
                        </button>
                        <button id="detectButton" class="btn-primary" style="display: none;">Run Detection â–¶</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="libs/socket.io.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
